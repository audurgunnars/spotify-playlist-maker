(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a(40)},18:function(e,t,a){},28:function(e,t,a){},30:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(9),s=a.n(c),i=(a(18),a(1)),o=a.n(i),l=a(7),u=a(11),p=a(2),h=a(3),m=a(5),f=a(4),d=a(6),v=a(10),k=a.n(v),y=(a(28),a(30),function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).keyPress=function(e){13===(e.keyCode||e.which)&&a.props.triggerSearch()},a.handleTermChange=function(e){a.props.onType(e.target.value)},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"SearchBar"},n.a.createElement("input",{value:this.props.input,placeholder:"Enter A Song, Album, or Artist",onChange:this.handleTermChange,onKeyPress:this.keyPress}),n.a.createElement("a",{onClick:function(){return e.props.triggerSearch()}},"SEARCH"))}}]),t}(r.Component)),b=(a(32),a(34),a(36),function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).renderAction=function(){return a.props.isRemoval?"-":"+"},a.triggerTrack=function(){a.props.isRemoval?a.props.removeTrack(a.props.track):a.props.addTrack(a.props.track)},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"Track"},n.a.createElement("div",{className:"Track-information"},n.a.createElement("h3",null,this.props.track.name),n.a.createElement("p",null,this.props.track.artist||this.props.track.artists[0].name," |"," ",this.props.track.album.name)),n.a.createElement("a",{className:"Track-action",onClick:this.triggerTrack},this.renderAction()))}}]),t}(r.Component)),T=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"TrackList"},this.props.tracks.map(function(t){return n.a.createElement(b,{key:t.id,track:t,addTrack:e.props.addTrack,isRemoval:e.props.isRemoval,removeTrack:e.props.removeTrack})}))}}]),t}(r.Component),g=function(e){function t(){return Object(p.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"SearchResults"},n.a.createElement("h2",null,"Results"),n.a.createElement(T,{tracks:this.props.searchResults,addTrack:this.props.addTrack,isRemoval:!1}))}}]),t}(r.Component),O=(a(38),function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).handleNameChange=function(e){a.props.onNameChange(e.target.value)},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"Playlist"},n.a.createElement("input",{placeholder:"New Playlist",id:"newplaylist",value:this.props.playlistName,onChange:this.handleNameChange}),n.a.createElement(T,{tracks:this.props.playlistTracks,addTrack:this.props.addTrack,isRemoval:!0,removeTrack:this.props.removeTrack}),n.a.createElement("a",{className:"Playlist-save",onClick:this.props.onSave},"SAVE TO SPOTIFY"))}}]),t}(r.Component)),w="https://accounts.spotify.com/authorize?client_id=".concat("441668fabc3c41cba1445ae305aaec86","&redirect_uri=").concat("http%3A%2F%2Flocalhost%3A3000%2F","&response_type=token&scope=").concat("playlist-modify-private playlist-modify-public"),j="",E=0,N=function(){var e=Object(l.a)(o.a.mark(function e(t){var a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer ".concat(t)}});case 3:if(!(a=e.sent).ok){e.next=9;break}return e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",r.id);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(o.a.mark(function e(t,a,r){var n,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.spotify.com/v1/users/".concat(t,"/playlists"),{headers:{Authorization:"Bearer ".concat(a)},method:"POST",body:JSON.stringify({name:r})});case 3:if(!(n=e.sent).ok){e.next=9;break}return e.next=7,n.json();case 7:return c=e.sent,e.abrupt("return",c.id);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t,a,r){return e.apply(this,arguments)}}(),x=function(){var e=Object(l.a)(o.a.mark(function e(t,a,r){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.spotify.com/v1/playlists/".concat(t,"/tracks"),{headers:{Authorization:"Bearer ".concat(a)},method:"POST",body:JSON.stringify({uris:r})});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t,a,r){return e.apply(this,arguments)}}(),A={_getAccessToken:function(e){if(j)return j;var t=window.location.href;if(j=t.match(/access_token=([^&]*)/),E=t.match(/expires_in=([^&]*)/),j&&E)return j=j[1],E=+E[1],window.setTimeout(function(){return j=""},1e3*E),window.history.pushState("Access Token",null,"/"),j;window.location=w+"&state=".concat(e)},search:function(){var e=Object(l.a)(o.a.mark(function e(t){var a,r,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=A._getAccessToken(t),e.prev=1,e.next=4,fetch("https://api.spotify.com/v1/search?type=track&q=".concat(t),{headers:{Authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,e.next=7,r.json();case 7:return n=e.sent,e.abrupt("return",n.tracks.items);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",[]);case 15:case"end":return e.stop()}},e,this,[[1,11]])}));return function(t){return e.apply(this,arguments)}}(),savePlaylist:function(){var e=Object(l.a)(o.a.mark(function e(t,a){var r,n,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=A._getAccessToken(),e.next=3,N(r);case 3:return n=e.sent,e.next=6,S(n,r,t);case 6:return c=e.sent,e.next=9,x(c,r,a);case 9:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},C=A,P=function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).state={searchResults:[],playlistName:"",playlistTracks:[],searchTerm:""},a.addTrack=function(e){a.state.playlistTracks.find(function(t){return t.id===e.id})||a.setState({playlistTracks:Object(u.a)(a.state.playlistTracks).concat([e])})},a.removeTrack=function(e){var t=a.state.playlistTracks.filter(function(t){return e.id!==t.id});a.setState({playlistTracks:t})},a.updatePlaylistName=function(e){a.setState({playlistName:e})},a.savePlaylist=function(){var e=a.state.playlistTracks.map(function(e,t){return a.state.playlistTracks[t].uri});C.savePlaylist(a.state.playlistName,e),a.setState({playlistName:"New Playlist"}),a.setState({playlistTracks:[]})},a.search=function(e){a.setState({searchTerm:e})},a.triggerSearch=function(){var e=Object(l.a)(o.a.mark(function e(t){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.search(t||a.state.searchTerm);case 2:r=e.sent,a.setState({searchResults:r});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=window.location.href,t=k.a.parse(e).state;t&&(this.setState({searchTerm:t}),this.triggerSearch(t))}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Spotify Playlist Maker"),n.a.createElement("div",{className:"App"},n.a.createElement(y,{onType:this.search,triggerSearch:this.triggerSearch,input:this.state.searchTerm}),n.a.createElement("div",{className:"App-playlist"},n.a.createElement(g,{searchResults:this.state.searchResults,addTrack:this.addTrack}),n.a.createElement(O,{inputValue:this.state.playlistName,onNameChange:this.updatePlaylistName,playlistName:this.state.playlistName,playlistTracks:this.state.playlistTracks,addTrack:this.addTrack,removeTrack:this.removeTrack,onSave:this.savePlaylist}))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[12,2,1]]]);
//# sourceMappingURL=main.bc69dfda.chunk.js.map